(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-03b2e5fc"],{"129f":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},"23ab":function(e,t,n){"use strict";var a=n("7a23"),i={class:"flex align-items-center justify-content-between"},c={class:"flex align-items-center",style:{"white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis"}},l={class:"font-semibold"},r={class:"text-center"},s=["src","alt"],o={class:"flex align-items-center justify-content-between"},u={style:{"font-size":"0.8rem"}},d={class:"flex align-items-center justify-content-between"},j={style:{"font-size":"0.8rem"}};function g(e,t,n,g,m,b){var f;return Object(a["y"])(),Object(a["i"])("div",{class:"card m-3 border-1 surface-border",onClick:t[0]||(t[0]=function(e){return b.gotodetail(n.game.data.id)})},[Object(a["j"])("div",i,[Object(a["j"])("div",c,[Object(a["j"])("p",l,Object(a["K"])(n.game.data.title),1)])]),Object(a["j"])("div",r,[Object(a["j"])("img",{src:e.getImage(null===(f=n.game.data)||void 0===f?void 0:f.image),alt:n.game.data.title,width:"200",height:"140",style:{"object-fit":"scale-down"}},null,8,s)]),Object(a["j"])("div",o,[Object(a["j"])("span",u,Object(a["K"])(n.game.data.publisher?n.game.data.publisher:"Â­"),1)]),Object(a["j"])("div",d,[Object(a["j"])("span",j,Object(a["K"])(b.genres(n.game.data)),1),Object(a["j"])("span",null,Object(a["K"])(n.game.data.rating?n.game.data.rating:"N/A"),1)])])}n("a15b");var m=n("ac41"),b={props:["game"],mixins:[m["a"]],data:function(){return{}},methods:{genres:function(e){var t;return null===(t=e.genres)||void 0===t?void 0:t.join(", ")},gotodetail:function(e){this.$router.push("/gamedetail/".concat(e))}}},f=n("6b0d"),h=n.n(f);const v=h()(b,[["render",g]]);t["a"]=v},"38d4":function(e,t,n){"use strict";n.r(t);n("ac1f"),n("841c");var a=n("7a23"),i={class:"grid"},c={class:"col-12"},l={class:"card"},r=Object(a["j"])("h5",null,"Games",-1),s={class:"grid grid-nogutter"},o={class:"flex flex-column lg:flex-row lg:w-full"},u={class:"col-12 lg:col-6 lg:text-center"},d={class:"col-12 lg:col-2 text-right flex flex-row align-items-center",style:{margin:"0 auto"}},j=Object(a["j"])("label",{for:"rating",style:{padding:"10px"}},"Rating : ",-1),g={style:{padding:"10px"}},m={class:"col-12 lg:col-3 lg:text-right"},b={class:"p-input-icon-left"},f=Object(a["j"])("i",{class:"pi pi-search"},null,-1),h={class:"col-12 lg:col-1 lg:text-right"},v={class:"p-input-icon-left"},O=Object(a["j"])("i",{class:"pi pi-plus"},null,-1),p={class:"col-12"},x=["onClick"],w={class:"flex-1 text-center md:text-left"},y={class:"font-bold text-2xl"},G={class:"flex align-items-center"},S={class:"flex flex-row md:flex-column justify-content-between w-full md:w-auto align-items-center md:align-items-end mt-5 md:mt-0"},V=Object(a["l"])(" Genres:"),C={class:"col-12 md:col-4"};function k(e,t,n,k,K,I){var R=Object(a["G"])("DataViewLayoutOptions"),U=Object(a["G"])("Slider"),F=Object(a["G"])("InputText"),P=Object(a["G"])("Button"),Q=Object(a["G"])("GameCard"),T=Object(a["G"])("DataView");return Object(a["y"])(),Object(a["i"])("div",i,[Object(a["j"])("div",c,[Object(a["j"])("div",l,[r,Object(a["m"])(T,{value:K.dataviewValue,layout:K.layout,paginator:!0,rows:9,lazy:!0,onPage:t[3]||(t[3]=function(e){return I.onPage(e)}),totalRecords:K.gamescount},{header:Object(a["Q"])((function(){return[Object(a["j"])("div",s,[Object(a["j"])("div",o,[Object(a["j"])("div",u,[Object(a["m"])(R,{modelValue:K.layout,"onUpdate:modelValue":t[0]||(t[0]=function(e){return K.layout=e})},null,8,["modelValue"])]),Object(a["j"])("div",d,[j,Object(a["m"])(U,{modelValue:K.rating,"onUpdate:modelValue":t[1]||(t[1]=function(e){return K.rating=e}),onSlideend:I.search,class:"p-slider",style:{width:"30%"}},null,8,["modelValue","onSlideend"]),Object(a["j"])("p",g,Object(a["K"])(K.rating?K.rating:0),1)]),Object(a["j"])("div",m,[Object(a["j"])("span",b,[f,Object(a["m"])(F,{type:"text",modelValue:K.textSearch,"onUpdate:modelValue":t[2]||(t[2]=function(e){return K.textSearch=e}),placeholder:"Search"},null,8,["modelValue"])])]),Object(a["j"])("div",h,[Object(a["j"])("span",v,["User"==I.getCurrentUserRole()||!I.getCurrentUserRole()||"local"!=I.getType()&&"my api"!=I.getType()?Object(a["h"])("",!0):(Object(a["y"])(),Object(a["g"])(P,{key:0,class:"p-button-sm",onClick:I.addgame},{default:Object(a["Q"])((function(){return[O]})),_:1},8,["onClick"]))])])])])]})),list:Object(a["Q"])((function(t){return[Object(a["j"])("div",p,[Object(a["j"])("div",{class:"flex flex-column md:flex-row align-items-center p-3 w-full",onClick:function(n){return e.gotodetail(t.data.id)}},[Object(a["j"])("div",w,[Object(a["j"])("div",y,Object(a["K"])(t.data.title),1),Object(a["j"])("div",G,[Object(a["j"])("span",null,Object(a["K"])(t.data.publisher),1)])]),Object(a["j"])("div",S,[Object(a["j"])("ul",null,[V,(Object(a["y"])(!0),Object(a["i"])(a["a"],null,Object(a["E"])(t.data.genres,(function(e){return Object(a["y"])(),Object(a["i"])("li",{key:e},Object(a["K"])(e),1)})),128))])])],8,x)])]})),grid:Object(a["Q"])((function(e){return[Object(a["j"])("div",C,[Object(a["m"])(Q,{game:e},null,8,["game"])])]})),_:1},8,["value","layout","totalRecords"])])])])}var K=n("23ab"),I={components:{GameCard:K["a"]},data:function(){return{dataviewValue:null,layout:"grid",sortKey:null,sortOrder:null,sortField:null,textSearch:null,rating:0,gamescount:0}},videoGameService:null,created:function(){this.videoGameService=this.servicesFactory.getGamesService()},mounted:function(){var e=this;this.videoGameService.getGamesCount().then((function(t){return e.gamescount=t})),this.videoGameService.getGames(9,0).then((function(t){return e.dataviewValue=t}))},watch:{textSearch:function(e,t){e!=t&&this.search()}},methods:{onSortChange:function(e){var t=e.value.value,n=e.value;0===t.indexOf("!")?(this.sortOrder=-1,this.sortField=t.substring(1,t.length),this.sortKey=n):(this.sortOrder=1,this.sortField=t,this.sortKey=n)},search:function(){var e,t=this;this.textSearch||this.rating?(null===(e=this.videoGameService)||void 0===e||e.searchGames(9,0,this.textSearch,this.rating).then((function(e){return t.dataviewValue=e})),this.videoGameService.getGamesCount(this.textSearch).then((function(e){return t.gamescount=e}))):(this.videoGameService.getGames(9,0).then((function(e){return t.dataviewValue=e})),this.videoGameService.getGamesCount().then((function(e){return t.gamescount=e})));console.log(this.gamescount)},addgame:function(){this.$router.push("/gamenew/")},onPage:function(e){var t,n=this;this.textSearch||this.rating?null===(t=this.videoGameService)||void 0===t||t.searchGames(e.rows,e.first,this.textSearch,this.rating).then((function(e){return n.dataviewValue=e})):this.videoGameService.getGames(e.rows,e.first).then((function(e){return n.dataviewValue=e}))},numberPages:function(){return console.log(this.gamescount),this.gamescount},getType:function(){return sessionStorage.getItem("type")},getCurrentUserRole:function(){var e;return null===(e=JSON.parse(sessionStorage.getItem("user")))||void 0===e?void 0:e.role}}},R=n("6b0d"),U=n.n(R);const F=U()(I,[["render",k]]);t["default"]=F},"841c":function(e,t,n){"use strict";var a=n("c65b"),i=n("d784"),c=n("825a"),l=n("1d80"),r=n("129f"),s=n("577e"),o=n("dc4a"),u=n("14c3");i("search",(function(e,t,n){return[function(t){var n=l(this),i=void 0==t?void 0:o(t,e);return i?a(i,t,n):new RegExp(t)[e](s(n))},function(e){var a=c(this),i=s(e),l=n(t,a,i);if(l.done)return l.value;var o=a.lastIndex;r(o,0)||(a.lastIndex=0);var d=u(a,i);return r(a.lastIndex,o)||(a.lastIndex=o),null===d?-1:d.index}]}))},ac41:function(e,t,n){"use strict";var a="images/unknown.jfif";t["a"]={methods:{getImage:function(e){return e||a}}}}}]);
//# sourceMappingURL=chunk-03b2e5fc.96fde315.js.map